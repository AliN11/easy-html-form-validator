var J=Object.defineProperty;var ee=(t,e,r)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var c=(t,e,r)=>(ee(t,typeof e!="symbol"?e+"":e,r),r);const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};te();class u extends Error{constructor(r,...n){super(r);c(this,"args");this.args=n}}const $="accepted",L="alpha",I="alpha-num",M="alpha-num-dash",R="between-length",P="between-number",F="digits",U="email",O="ends-with",q="equal-length",z="equal-number",k="greater-equal",D="integer",H="less-equal",B="max-length",j="min-length",C="num-dash",G="number",V="regex",W="required",Q="starts-with",y="within";function re(t){return t==="checked"?!0:new u($)}const ne=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,oe=/^[+-]?\d+$/,se=/^[+-]?(\d+|\d*\.\d*)$/,ie=/^[\p{L}\p{M}]+$/u,ae=/^[\p{L}\p{M}\p{N}]+$/u,ue=/^[\p{L}\p{M}\p{N}_-]+$/u,le=/^[\p{N}_-]+$/u;function ce(t){return ie.test(t)||new u(L)}function he(t){return ae.test(t)||new u(I)}function de(t){return ue.test(t)||new u(M)}class fe{constructor(){c(this,"lang")}set(e){this.lang=e}get(){return typeof this.lang=="object"?this.lang:{}}}var S=new fe;const me="checkbox",pe="radio";function X(t){return t.replace(/-./g,e=>e[1].toUpperCase())}function K(t){return t instanceof HTMLInputElement?t.type===me||t.type===pe?t.checked?"checked":"":t.value:t instanceof HTMLSelectElement?Array.from(t.selectedOptions).map(e=>e.value).join(","):""}function ge(t,...e){return t.replace(/\$(\d)/g,(r,n)=>(e==null?void 0:e[n-1])||"")}function b(t,e){let[r,n=""]=t.split(":");if(Ne(t)){if(!we(t))throw new Error(`${t}: x-rules require an argument that is defined in the config.xRules object`);r=r.substring(2),n=String(e==null?void 0:e[n])||""}return{name:r,argsText:n,args:m(n)}}function m(t){return t?t.split(","):[]}function be(t,...e){const r=S.get();let n=t;return Object.prototype.hasOwnProperty.call(r,t)&&(n=r[t]),ge(n,...e)}function a(t){return{throwError(e){if(t)throw new Error(e)}}}function Ee(t){t.on("field:error",(e,r,n)=>{n.reverse().forEach(o=>{const s=document.createElement("p");s.classList.add("validator-err"),s.innerHTML=o.message,r.parentNode&&r.parentNode.insertBefore(s,r.nextSibling)})}),t.on("validation:start",e=>{e.querySelectorAll(".validator-err").forEach(r=>{r.remove()})})}function we(t){return t.includes(":")&&t.split(":").length===2}function Ne(t){return t.startsWith("x-")}const l="An argument must be provided",E="The argument must be a number",w="The argument must be a positive number",ve="The argument must be an integer",ye="Invalid pattern provided";function Te(t,e=""){const[r,n,o]=m(e);a(!r).throwError(l),a(!n||!o).throwError(l);const s=Number(n),i=Number(o);return a(Number.isNaN(s)||Number.isNaN(i)).throwError(E),a(s>i).throwError("min must be less than max"),a(s===i).throwError("min and max must not be equal"),r==="number"?_e(t,s,i):Se(t,s,i)}function _e(t,e,r){const n=Number(t);return t!==""&&!Number.isNaN(n)&&n>=e&&n<=r?!0:new u(P,String(e),String(r))}function Se(t,e,r){return a(e<0||r<0).throwError(w),t.length>=e&&t.length<=r?!0:new u(R,String(e),String(r))}function xe(t,e=""){return a(e==="").throwError(l),a(T(e)!==!0||+e<1).throwError(ve),new RegExp(`^-?[0-9]{${e}}$`).test(t)?!0:new u(F,e)}function Ae(t,e=""){return a(e==="").throwError(l),t.endsWith(e)||new u(O,e)}function $e(t){return ne.test(t)||new u(U)}function Le(t,e=""){const[r,n]=m(e);a(!r).throwError(l),a(!n).throwError(l);const o=Number(n);return a(Number.isNaN(o)).throwError(E),r==="number"?Ie(t,o):Me(t,o)}function Ie(t,e){const r=Number(t);return t!==""&&!Number.isNaN(r)&&r>=e?!0:new u(k,String(e))}function Me(t,e){return a(e<0).throwError(w),t.length>=e?!0:new u(j,String(e))}function T(t){return oe.test(t)||new u(D)}function Re(t,e=""){const[r,n]=m(e);a(!r).throwError(l),a(!n).throwError(l);const o=Number(n);return a(Number.isNaN(o)).throwError(E),r==="number"?Pe(t,o):Fe(t,o)}function Pe(t,e){const r=Number(t);return t!==""&&!Number.isNaN(r)&&r<=e?!0:new u(H,String(e))}function Fe(t,e){return a(e<0).throwError(w),t.length<=e?!0:new u(B,String(e))}function Ue(t){return se.test(t)||new u(G)}function Oe(t){return le.test(t)||new u(C)}const qe=t=>{try{return new RegExp(t),!0}catch{return!1}},ze=t=>{var n,o,s,i;const e=(o=(n=t.match(/\/(.+)\/.*/))==null?void 0:n[1])!=null?o:"",r=(i=(s=t.match(/\/.+\/(.*)/))==null?void 0:s[1])!=null?i:"";return new RegExp(e,r)};function ke(t,e){return a(!e).throwError(l),a(qe(e)===!1).throwError(ye),ze(e).test(t)||new u(V)}function _(t){return t.trim().length>0||new u(W)}function De(t,e=""){return _(e)===!0?_(t):!0}function He(t,e=""){const[r,n]=m(e);a(!r).throwError(l),a(!n).throwError(l);const o=Number(n);return a(Number.isNaN(o)).throwError(E),r==="number"?Be(t,o):je(t,o)}function Be(t,e){const r=Number(t);return t!==""&&!Number.isNaN(r)&&r===e?!0:new u(z,String(e))}function je(t,e){return a(e<0).throwError(w),t.length===e?!0:new u(q,String(e))}function Ce(t,e=""){return a(e==="").throwError(l),t.startsWith(e)||new u(Q,e)}function x(t,e){const[r,...n]=m(e);if(a(!r).throwError(l),r==="array"){const o=m(t);for(const s of o)if(!n.includes(s))return new u(y);return!0}return n.includes(t)||new u(y)}var A=Object.freeze(Object.defineProperty({__proto__:null,accepted:re,alpha:ce,alphaNum:he,alphaNumDash:de,between:Te,digits:xe,endsWith:Ae,email:$e,min:Le,integer:T,int:T,max:Re,number:Ue,numDash:Oe,regex:ke,required:_,requiredIf:De,size:He,startsWith:Ce,within:x,in:x},Symbol.toStringTag,{value:"Module"}));class Ge{constructor(){c(this,"lang");c(this,"errorsList");this.lang=S.get(),this.errorsList=[]}setError(e,r,n){let o=this.errorsList.find(d=>d[0].element===e);o||(o=[],this.errorsList.push(o));const i={message:be(n.message,...n.args),element:e,rule:r,cause:n.message,args:n.args};o.push(i)}get hasError(){return Object.keys(this.errorsList).length>0}get errors(){return this.errorsList}clearErrors(){this.errorsList=[]}}class Ve{constructor(e={}){c(this,"events");this.events={},Object.keys(e).forEach(n=>{typeof e[n]=="function"&&(this.events[n]=[],this.events[n].push(e[n]))})}on(e,r){this.events[e]||(this.events[e]=[]),this.events[e].push(r)}off(e,r){if(typeof this.events[e]=="undefined")return;const n=this.events[e],o=n.indexOf(r);o!==-1&&n.splice(o,1)}call(e,...r){typeof this.events[e]!="undefined"&&this.events[e].forEach(o=>{o(...r)})}clear(){this.events={}}}const v={requiredIf:Qe,between:p,size:p,min:p,max:p,in:p};function We(t,e,r,n,o){var i;const s=X(b(t,o).name);return((i=v[s])==null?void 0:i.call(v,t,e,r,n,o))||t}function p(t,e,r,n,o){const{name:s,argsText:i}=b(t,o),d=e.indexOf(t),h=e.slice(0,d);let f="string";return h.includes("number")||h.includes("int")||h.includes("integer")?f="number":h.includes("array")&&(f="array"),`${s}:${f},${i}`}function Qe(t,e,r,n,o){const{name:s,args:i}=b(t,o);if(i.length===0)return s;let d="";if(i.length>0){const h=document.getElementById(i[0]);h!==null&&(d=K(h))}return i.splice(0,1,d),`${s}:${i.join(",")}`}const Xe={renderErrors:!0};class Ke{constructor(e,r={}){c(this,"validatorError");c(this,"events");c(this,"options");c(this,"parentEl");if(e===null||!(e instanceof HTMLElement))throw new Error("Invalid parentEl element");this.options=Object.assign(Xe,r),this.validatorError=new Ge,this.events=new Ve(this.options.on),this.parentEl=e,S.set(this.options.lang),this.options.renderErrors&&Ee(this.events),this.events.on("validation:start",()=>this.validatorError.clearErrors()),this.events.on("validation:failed",()=>this.errorEventTrigger())}validate(){this.events.call("validation:start",this.parentEl);let e=!0,r="success";const n=this.parentEl.querySelectorAll("[data-rules]");return n.length>0&&(e=this.validateFields(Array.from(n)),r=e?"success":"failed"),this.events.call(`validation:${r}`,this.parentEl),this.events.call("validation:end",this.parentEl,e),e}on(e,r){this.events.on(e,r)}off(e,r){this.events.off(e,r)}validateFields(e){var r;for(const n of e){const o=(r=n.getAttribute("data-rules"))==null?void 0:r.split("|");if(o&&o.length>0){const s=K(n),i=this.shouldStopOnFirstFailure(o),d=this.getComputedFieldRules(o,n);for(const h of d){const{name:f,argsText:Z}=b(h,this.options.xRules),N=X(f);if(this.isNullable(N)&&s==="")break;if(N in A)try{const g=A[N](s,Z);if(g instanceof u&&(this.validatorError.setError(n,f,g),i))break}catch(g){return console.error(new Error(`${f}: ${g.message}`)),!1}}}}return!this.validatorError.hasError}shouldStopOnFirstFailure(e){return e.includes("bail")}isNullable(e){return e==="nullable"}getComputedFieldRules(e,r){return e.map(n=>We(n,e,r,this.parentEl,this.options.xRules))}errorEventTrigger(){this.validatorError.errors.forEach(r=>{r.length!==0&&this.events.call("field:error",this.parentEl,r[0].element,r)})}}const Ye={[$]:"Please accept this field",[L]:"Please enter only alphabetic characters",[I]:"Please enter only alpha-numeric characters",[M]:"Please enter only alpha-numeric characters, dashes, and underscores",[R]:"The value must have between $1 and $2 characters",[P]:"Please enter a number between $1 and $2",[F]:"The value must be a $1-digits number",[U]:"Please enter a valid email address",[O]:'The value must ends with "$1"',[q]:"The value must have $1 characters",[z]:"The value must be equal to $1",[k]:"Please enter a number greater than or equal to $1",[D]:"The value must be a valid integer",[H]:"Please enter a number less than or equal to $1",[B]:"Max length is $1",[j]:"Min length is $1",[C]:"Please enter numbers with dashes and underscores",[G]:"Please enter a valid number",[V]:"The value doesn't match the pattern",[W]:"This field is required",[Q]:'The value must start with "$1"',[y]:"The value is incorrect"},Y=document.querySelector("form");Y.onsubmit=t=>{t.preventDefault(),Ze.validate()};const Ze=new Ke(Y,{lang:Ye,xRules:{zipcode:"/^([0-9]{5})-([0-9]{5})$/","min-from-server":(()=>"2")()},on:{"validation:success":()=>{alert("Success! Form validated with no errors")}}});
